<!DOCTYPE HTML>
<html>
	<head>
	
		<title>SSLSignature KeyStore</title>
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
		<link rel="icon" href="img/favicon.ico">
		 <!-- Bootstrap core CSS -->
    	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
	
	</head>
<body>
	<div class="container">
		<div>
   			<h2>SSLSignature Keystore</h2>
   	 		<p>Store digital certificates and private keys on browser using Web Cryptography Api</p>
   	 	</div>
    
    	<div id="webcryptoAlert" class="alert alert-warning well-sm" role="alert" hidden></div>
   	 	<div>
   	 		<hr/>
   	 		<h3>Available digital certificates</h3>
			
			<div id = "keyList" class="input-group">				
	        </div>
	        <div class="btn-group">
				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#importCertificateModal">Import</button>
				<a href="javascript:handleExportClick();" id="export" class="btn btn-default " role="button">Export</a>
				<a href="javascript:handleDeleteClick();" id="delete" class="btn btn-default" role="button">Delete</a>
			</div>
		</div>
	
   	 	<div>
   	 		<hr/>
   	 		<h3>Available CryptoKeys </h3>
			
			<div id = "cryptoKeyList" class="input-group">				
	        </div>
	        <div class="btn-group">
				<a href="javascript:handleDeleteCryptoKeyClick();" id="deleteCryptoKey" class="btn btn-default" role="button">Delete</a>
			</div>
		</div>
	</div>
	
	
	<div class="modal fade" id="importCertificateModal" tabindex="-1" role="dialog">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title">Import certificate (PFX o P12)</h4>
	      </div>
	      <div class="modal-body">
	        <p>Select the file with your certificate and enter the password. The certificate will be stored in the native keystore of the browser and could not be exportable, therefore you should maintain an additional copy of your certificates</p>
			<div class="form-group">
			    <input type="file" name="content" id="pkcs12File" placeholder=".pfx o .p12 file" />
			</div>
			<div class="form-group">
    			<label for="password">Password</label>
    			<input type="password" name="password" id="password" value="" placeholder ="Contraseña .p12 or .pfx " class="form-control">
  			</div>
					
				
			<div class="checkbox">
			  <label>
			    <input type="checkbox" id="extractable" name="extractable">
			    Mark the key as exportable
			  </label>
			</div>	
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-primary" onclick="handleImportPkcs12Click();">Import</button>
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div>
	  </div>
	</div>
	
	
	

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <!-- <script src="https://produccion.sslsignature.com/sslsignature/resources/js/sslssso.js"></script> -->
        
    <script src="https://produccion.sslsignature.com/sslsignature/resources/js/es6-promise.min.js"></script>
    <script src="https://produccion.sslsignature.com/sslsignature/resources/js/forge.min.js"></script>
    <script src="https://produccion.sslsignature.com/sslsignature/resources/js/ssls.min.js"></script>
	
	<script src="js/keystore.js"></script>
	</body>	
</html>